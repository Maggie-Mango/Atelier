"use strict";(self.webpackChunkproject_atelier=self.webpackChunkproject_atelier||[]).push([[502],{1502:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var r=a(7294),n=a(885),l=a(9711),c=a(8636);const i=function(e){var t=e.response,a=e.removeoutfit,i=(0,r.useState)({}),u=(0,n.Z)(i,2),s=u[0],o=u[1],d=(0,r.useState)({}),m=(0,n.Z)(d,2),f=m[0],p=m[1],v=(0,r.useState)("https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/600px-No_image_available.svg.png"),g=(0,n.Z)(v,2),E=g[0],h=g[1],b=(0,r.useState)(),y=(0,n.Z)(b,2),k=y[0],N=y[1],S=(0,r.useState)(0),Z=(0,n.Z)(S,2),_=Z[0],w=Z[1],I=(0,r.useState)(),O=(0,n.Z)(I,2),x=O[0],C=O[1],F=(0,r.useState)({}),W=(0,n.Z)(F,2),j=W[0],L=W[1],P=(0,r.useState)(),M=(0,n.Z)(P,2),A=(M[0],M[1]);return(0,r.useEffect)((function(){!function(){o(t.productInfo),p(t.productInfo.id),t.stars&&L(t.stars),t.productStyle[0].photos[0].url?h(t.productStyle[0].photos[0].url):h("https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/600px-No_image_available.svg.png"),t.productStyle[0].photos[0].thumbnail_url&&A(t.productStyle[0].photos[0].thumbnail_url),N(parseInt(t.productStyle[0].original_price).toFixed(0)),t.productStyle[0].sale_price?w(parseInt(t.productStyle[0].sale_price).toFixed(0)):w(0);var e=t.productInfo.name;C(e)}()}),[t.productInfo.id]),r.createElement("article",{className:"rp-card"},r.createElement("div",{className:"sub-card-img"},r.createElement("button",{id:"yo-action-button",onClick:function(){return a(f)},className:"fas fa-times-circle"}),r.createElement(l.rU,{to:"/product/".concat(f)},r.createElement("div",{className:"rp-card-img",style:{backgroundImage:"url('"+E+"')"}}))),r.createElement("div",{className:"sub-card"},r.createElement("div",{id:"category"}," ",s.category),r.createElement("div",{id:"name"}," ",x),_>0?r.createElement("div",{className:"rp-allprice"},r.createElement("div",{id:"rp-sale-price"}," $",_),r.createElement("div",{id:"rp-origin-price-dup"},"$",k)):r.createElement("div",{id:"rp-origin-price"}," $",k),r.createElement(c.Z,{stars:j})))},u=function(e){var t,a,l=e.outfits,c=e.addoutfit,u=e.removeoutfit,s=r.createRef(),o=(0,r.useState)(0),d=(0,n.Z)(o,2),m=d[0],f=d[1],p=(0,r.useState)(!0),v=(0,n.Z)(p,2),g=v[0],E=v[1],h=function(e){s.current.scrollLeft+=e,f(m+e)};return(0,r.useEffect)((function(){var e,t;if(Object.keys(l).length>2)return s.current&&(null==s||null===(e=s.current)||void 0===e?void 0:e.scrollWidth)===(null==s||null===(t=s.current)||void 0===t?void 0:t.offsetWidth)?E(!1):E(!0),function(){}}),[null==s||null===(t=s.current)||void 0===t?void 0:t.scrollWidth,null==s||null===(a=s.current)||void 0===a?void 0:a.offsetWidth,Object.keys(l).length]),r.createElement("div",{id:"rp-wrapper"},0===m?null:r.createElement("button",{className:"rp-prev",onClick:function(){return h(-400)},"data-testid":"rp-left-button"},"<"),r.createElement("ul",{className:"rp-cardrow",ref:s,onScroll:function(){f(s.current.scrollLeft),Math.floor(s.current.scrollWidth-s.current.offsetWidth-3)<=s.current.scrollLeft?E(!1):E(!0)}},r.createElement("article",{className:"rp-card",id:"outfit-card",style:{textAlign:"center"},onClick:c},r.createElement("li",{id:"outfit-card-text"}," Add to your Outfit "),r.createElement("li",{id:"yo-button",onClick:c,"data-testid":"rp-add-button"},"+")),Object.keys(l).length>0?Object.keys(l).map((function(e,t){return r.createElement(i,{response:l[e],key:t,removeoutfit:u})})):null),Object.keys(l).length<=2?null:g?r.createElement("button",{className:"rp-next",onClick:function(){return h(400)},"data-testid":"rp-right-button"},">"):null)};var s=a(5861),o=a(7757),d=a.n(o),m=a(9669),f=a.n(m);const p=function(e){var t=e.feature,a=e.mF,n=e.cF;return r.createElement("tr",{className:"rp-table-contents"},r.createElement("td",null,a.hasOwnProperty(t)?a[t]?a[t].replace(/"/g,""):r.createElement("i",{className:"fas fa-check"}):null),r.createElement("td",null,t),r.createElement("td",null,n.hasOwnProperty(t)?n[t]?n[t].replace(/"/g,""):r.createElement("i",{className:"fas fa-check"}):null))},v=function(e){var t=e.isOpen,a=e.mainFeature,l=e.currentFeature,c=e.mainName,i=e.currentName;if(!t)return null;var u=(0,r.useState)([]),s=(0,n.Z)(u,2),o=s[0],d=s[1],m=(0,r.useState)({}),f=(0,n.Z)(m,2),v=f[0],g=f[1],E=(0,r.useState)({}),h=(0,n.Z)(E,2),b=h[0],y=h[1];return(0,r.useEffect)((function(){!function(){var e={},t={},r=[];if(a.length>0)for(var n=0;n<a.length;n++)e[a[n].feature]=a[n].value,r.includes(a[n].feature)||r.push(a[n].feature);if(l.length>0)for(var c=0;c<l.length;c++)t[l[c].feature]=l[c].value,r.includes(l[c].feature)||r.push(l[c].feature);d(r),g(e),y(t)}()}),[]),r.createElement("div",{className:"rp-comparison-modal"},r.createElement("div",{className:"rp-sub-modal"},r.createElement("div",{id:"modal-title"},"Comparing"),r.createElement("table",{className:"rp-table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,c),r.createElement("th",{style:{width:"40%"}}),r.createElement("th",null,i))),r.createElement("tbody",null,o.length>0?o.map((function(e,t){return r.createElement(p,{feature:e,key:t,mF:v,cF:b})})):null))))},g=function(e){var t=e.images,a=e.changeBackground,l=(0,r.useState)(0),c=(0,n.Z)(l,2),i=c[0],u=c[1],s=(0,r.useState)(t.slice(0,4)),o=(0,n.Z)(s,2),d=o[0],m=o[1],f=function(e){a(e.target.src)};return r.createElement("div",{className:"additional-images"},r.createElement("button",{className:"rp-prev-mini",onClick:function(){u(i-1),m(t.slice(i-1,i+3))},hidden:0===i}," ","<"," "),d.map((function(e,t){return r.createElement("img",{key:t,className:"thumbnail",src:e,style:{backgroundImage:"url('"+e+"')"},onClick:f})})),t.length<=4||i+5>=t.length?null:r.createElement("button",{className:"rp-next-mini",onClick:function(){u(i+1),m(t.slice(i+1,i+5))},hidden:t.length<=4||i+5>=t.length,disabled:t.length<4||i===t.length-4}," ",">"," "))},E=function(e){var t=e.item,a=e.mainInfo,i=(0,r.useState)({}),u=(0,n.Z)(i,2),o=u[0],m=u[1],p=(0,r.useState)(),E=(0,n.Z)(p,2),h=E[0],b=E[1],y=(0,r.useState)("https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/600px-No_image_available.svg.png"),k=(0,n.Z)(y,2),N=k[0],S=k[1],Z=(0,r.useState)(),_=(0,n.Z)(Z,2),w=_[0],I=_[1],O=(0,r.useState)(0),x=(0,n.Z)(O,2),C=x[0],F=x[1],W=(0,r.useState)(),j=(0,n.Z)(W,2),L=j[0],P=j[1],M=(0,r.useState)({}),A=(0,n.Z)(M,2),$=A[0],R=A[1],U=(0,r.useState)(!1),T=(0,n.Z)(U,2),B=T[0],D=T[1],Y=(0,r.useState)([]),q=(0,n.Z)(Y,2),z=q[0],G=q[1],H=(0,r.useState)(!1),J=(0,n.Z)(H,2),K=J[0],Q=J[1],V=function(){var e=(0,s.Z)(d().mark((function e(){var a,r,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f().get("/related/".concat(t));case 3:(a=e.sent)&&(a.data.reviewStars&&R(a.data.reviewStars),m(a.data.prod),b(a.data.prod.id),a.data.style.results[0].photos[0].url?S(a.data.style.results[0].photos[0].url):S("https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/600px-No_image_available.svg.png"),a.data.style.results[0].photos[0].thumbnail_url&&G(a.data.style.results[0].photos[0].thumbnail_url),I(parseInt(a.data.style.results[0].original_price).toFixed(0)),a.data.style.results[0].sale_price?F(parseInt(a.data.style.results[0].sale_price).toFixed(0)):F(0),r=a.data.prod.name,P(r),n=a.data.style.results.flatMap((function(e){return e.photos[0].thumbnail_url?e.photos[0].thumbnail_url:[]})),G(n||[])),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){V()}),[t]),(0,r.useEffect)((function(){}),[N]),r.createElement("article",{className:"rp-card","data-testid":"rp-subcard",id:"rp-card"},r.createElement("div",{className:"sub-card-img",id:"sub-card-img",onMouseOver:function(e){Q(!0)},onMouseLeave:function(e){Q(!1)}},r.createElement("button",{id:"rp-action-button",onMouseOver:function(e){e.target.style["-webkit-text-fill-color"]="#c62828"},onMouseOut:function(e){e.target.style["-webkit-text-fill-color"]="transparent"},onClick:function(){D(!B)},href:"#",className:"fas fa-star"}," "),r.createElement(l.rU,{to:"/product/".concat(h)},r.createElement("div",{className:"rp-card-img",style:{backgroundImage:"url('"+N+"')"}})),K&&z.length>0?r.createElement(g,{images:z,changeBackground:function(e){S(e)}}):null),r.createElement("div",{className:"sub-card",id:"sub-card"},r.createElement("div",{id:"category"}," ",o.category),r.createElement("div",{id:"name"}," ",L),C>0?r.createElement("div",{className:"rp-allprice"},r.createElement("div",{id:"rp-sale-price"}," $",C),r.createElement("div",{id:"rp-origin-price-dup"},"$",w)):r.createElement("div",{id:"rp-origin-price"}," $",w),r.createElement(c.Z,{stars:$})),r.createElement(v,{isOpen:B,mainFeature:a&&a.hasOwnProperty("features")?a.features:[],currentFeature:o&&o.hasOwnProperty("features")?o.features:[],mainName:a?a.name:null,currentName:o?o.name:null}))},h=function(e){var t,a,l=e.relatedProductArr,c=e.productInfo,i=e.productStyle,u=r.createRef(),s=(0,r.useState)(0),o=(0,n.Z)(s,2),d=o[0],m=o[1],f=(0,r.useState)(!1),p=(0,n.Z)(f,2),v=p[0],g=p[1],h=function(e){u.current.scrollLeft+=e,m(d+e)};return(0,r.useEffect)((function(){var e,t;return u.current&&(null==u||null===(e=u.current)||void 0===e?void 0:e.scrollWidth)===(null==u||null===(t=u.current)||void 0===t?void 0:t.offsetWidth)?g(!0):g(!1),function(){}}),[null==u||null===(t=u.current)||void 0===t?void 0:t.scrollWidth,null==u||null===(a=u.current)||void 0===a?void 0:a.offsetWidth]),r.createElement("div",{id:"rp-wrapper"},0===d?null:r.createElement("button",{className:"rp-prev",onClick:function(){return h(-400)},"data-testid":"rp-left-button"},"<"),r.createElement("ul",{className:"rp-cardrow",ref:u,onScroll:function(){m(u.current.scrollLeft),Math.floor(u.current.scrollWidth-u.current.offsetWidth-3)<=u.current.scrollLeft?g(!1):g(!0)}},l.length>0?l.map((function(e,t){return r.createElement(E,{key:t,item:e,mainInfo:c,mainStyle:i})})):null),l.length<=3?null:v?r.createElement("button",{className:"rp-next",onClick:function(){return h(400)},"data-testid":"rp-right-button"},">"):null)},b=function(e){var t=e.relatedProductArr,a=e.productInfo,n=e.productStyle,l=e.outfits,c=e.addoutfit,i=e.removeoutfit,s=e.trackClick;return r.createElement("div",{id:"related",onClick:s},r.createElement("br",null),r.createElement("div",{id:"related-rp"},r.createElement("div",{id:"rp-title"},"RELATED PRODUCTS"),r.createElement(h,{relatedProductArr:t,productInfo:a,productStyle:n}),r.createElement("div",{id:"rp-title"},"YOUR OUTFIT"),r.createElement(u,{outfits:l,addoutfit:c,removeoutfit:i})),r.createElement("br",null))}},8636:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(885),n=a(7294);const l=function(e){var t=e.rating,a=e.stars,l=(0,n.useState)(),c=(0,r.Z)(l,2),i=c[0],u=c[1];return(0,n.useEffect)((function(){!function(){if(a){var e=function(e){var t=0,a=0;if(e)for(var r=Object.keys(e),n=Object.values(e),l=0;l<r.length;l++)t+=parseInt(n[l]),a+=parseInt(r[l])*parseInt(n[l]);return t>0?(a/t).toFixed(1):0}(a.ratings);u(e)}t&&u(t)}()}),[a]),n.createElement("div",null,i>0?n.createElement("div",{className:"star",style:{"--rating":i}},n.createElement("i",{className:"fa fa-star"}),n.createElement("i",{className:"fa fa-star"}),n.createElement("i",{className:"fa fa-star"}),n.createElement("i",{className:"fa fa-star"}),n.createElement("i",{className:"fa fa-star"})):null)}}}]);